{
  "version": "6.3",
  "flow": {
    "name": "flow.vend.settings.v1",
    "screens": [
      {
        "id": "s_settings",
        "title": "Bar Settings",
        "layout": {
          "type": "SingleColumnLayout",
          "children": [
            {
              "type": "Form",
              "name": "form",
              "children": [
                { "type": "TextInput", "name": "momo_code", "label": "MoMo code", "required": false },
                { "type": "TextInput", "name": "service_charge_pct", "label": "Service %", "required": false, "input-type": "number" },
                {
                  "type": "Dropdown",
                  "name": "allow_direct_chat",
                  "label": "Allow direct chat",
                  "required": true,
                  "data": [
                    { "id": "true", "title": "Yes" },
                    { "id": "false", "title": "No" }
                  ]
                },
                { "type": "TextInput", "name": "default_prep_minutes", "label": "Default prep (min)", "required": false, "input-type": "number" },
                { "type": "TextArea", "name": "payment_instructions", "label": "Payment instructions", "required": false },
                {
                  "type": "Footer",
                  "label": "Save",
                  "on-click-action": {
                    "name": "data_exchange",
                    "payload": {
                      "action_id": "a_save_settings",
                      "fields": {
                        "momo_code": "${form.momo_code}",
                        "service_charge_pct": "${form.service_charge_pct}",
                        "allow_direct_chat": "${form.allow_direct_chat}",
                        "default_prep_minutes": "${form.default_prep_minutes}",
                        "payment_instructions": "${form.payment_instructions}"
                      }
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      {
        "id": "s_settings_saved",
        "title": "Settings Updated",
        "terminal": true,
        "success": true,
        "layout": {
          "type": "SingleColumnLayout",
          "children": [
            { "type": "TextHeading", "text": "Saved" },
            {
              "type": "Footer",
              "label": "Finish",
              "on-click-action": {
                "name": "complete",
                "payload": { "ok": true }
              }
            }
          ]
        }
      }
    ]
  }
}
