{
  "version": "6.3",
  "screens": [
    {
      "id": "s_wallet_lookup",
      "title": "Wallet lookup",
      "layout": { "type": "single_column" },
      "data_exchange": {
        "submit": { "action": { "id": "a_admin_wallet_lookup" } }
      },
      "widgets": [
        {
          "type": "text_input",
          "id": "wa_id",
          "label": "WhatsApp number",
          "placeholder": "+2507..."
        },
        {
          "type": "footer_buttons",
          "buttons": [
            {
              "id": "BTN_LOOKUP",
              "title": "Lookup",
              "action": {
                "type": "data_exchange",
                "id": "a_admin_wallet_lookup"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "s_wallet_snapshot",
      "title": "Wallet",
      "layout": { "type": "single_column" },
      "widgets": [
        {
          "type": "text_block",
          "id": "w_wallet",
          "text": "Balance: ${data.wallet.balance_tokens}"
        },
        { "type": "list", "id": "w_ledger", "options_data_binding": "ledger" },
        {
          "type": "footer_buttons",
          "buttons": [
            {
              "id": "BTN_CREDIT",
              "title": "Credit 10",
              "action": {
                "type": "data_exchange",
                "id": "a_admin_wallet_credit",
                "fields": {
                  "wa_id": "${data.profile.whatsapp_e164}",
                  "amount": 10,
                  "reason": "Manual credit"
                }
              }
            },
            {
              "id": "BTN_DEBIT",
              "title": "Debit 10",
              "action": {
                "type": "data_exchange",
                "id": "a_admin_wallet_debit",
                "fields": {
                  "wa_id": "${data.profile.whatsapp_e164}",
                  "amount": 10,
                  "reason": "Adjustment"
                }
              }
            }
          ]
        }
      ]
    }
  ]
}
