# EasyMO environment configuration (Phase 2 baseline)
# Copy this file to `.env.local` (or export via Vercel) and replace every
# CHANGEME_ placeholder with the correct secret before running locally.

## Supabase project (non-secret)
VITE_SUPABASE_PROJECT_ID="lhbowpbcpwoiparwnwgt"
VITE_SUPABASE_URL="https://lhbowpbcpwoiparwnwgt.supabase.co"
VITE_API_BASE="${VITE_SUPABASE_URL}/functions/v1"

## Supabase keys
VITE_SUPABASE_ANON_KEY="CHANGEME_SUPABASE_ANON_KEY"
VITE_SUPABASE_SERVICE_ROLE_KEY="CHANGEME_SUPABASE_SERVICE_ROLE_KEY"

## Admin API / session tokens
VITE_ADMIN_TOKEN="CHANGEME_EDGE_FUNCTION_TOKEN"
EASYMO_ADMIN_TOKEN="${VITE_ADMIN_TOKEN}"
ADMIN_TOKEN="${VITE_ADMIN_TOKEN}"
ADMIN_SESSION_SECRET="CHANGEME_SESSION_SECRET"
ADMIN_SESSION_MAX_AGE_DAYS="30"
ADMIN_ACCESS_CREDENTIALS='[{"actorId":"REPLACE_ME","token":"CHANGEME_OPERATOR_TOKEN","label":"Ops"}]'

## Public client config
NEXT_PUBLIC_SUPABASE_URL="${VITE_SUPABASE_URL}"
NEXT_PUBLIC_SUPABASE_ANON_KEY="${VITE_SUPABASE_ANON_KEY}"
NEXT_PUBLIC_USE_MOCKS="false"

## Dispatcher / function endpoints
DISPATCHER_FUNCTION_URL="${VITE_API_BASE}/campaign-dispatch"

## WhatsApp / Meta credentials
WA_PHONE_ID="CHANGEME_WA_PHONE_ID"
WA_TOKEN="CHANGEME_WA_TOKEN"
WA_APP_SECRET="CHANGEME_WA_APP_SECRET"
WA_VERIFY_TOKEN="CHANGEME_WA_VERIFY_TOKEN"
WA_BOT_NUMBER_E164="+2507XXXXXXX"
META_WABA_BUSINESS_ID="CHANGEME_WABA_BUSINESS_ID"

## Reminder / notification toggles
CART_REMINDER_CRON_ENABLED="true"
CART_REMINDER_CRON="*/10 * * * *"
CART_REMINDER_MINUTES="20"
CART_REMINDER_LANGUAGE="en"
CART_REMINDER_BATCH_SIZE="25"

ORDER_PENDING_REMINDER_CRON_ENABLED="true"
ORDER_PENDING_REMINDER_CRON="*/5 * * * *"
ORDER_PENDING_REMINDER_MINUTES="15"
ORDER_PENDING_REMINDER_LANGUAGE="en"
ORDER_PENDING_REMINDER_BATCH_SIZE="25"

BASKETS_REMINDER_CRON_ENABLED="false"
BASKETS_REMINDER_BATCH_SIZE="20"
BASKETS_REMINDER_MAX_PER_HOUR="30"

NOTIFICATION_WORKER_CRON_ENABLED="false"
NOTIFY_MAX_RETRIES="5"
NOTIFY_DEFAULT_DELAY_SECONDS="0"
NOTIFY_BACKOFF_BASE_SECONDS="30"
NOTIFY_MAX_BACKOFF_SECONDS="900"
NOTIFY_WORKER_LEASE_SECONDS="180"

## Storage buckets & signed URLs
MENU_MEDIA_BUCKET="menu-source-files"
KYC_STORAGE_BUCKET="kyc-documents"
INSURANCE_MEDIA_BUCKET="insurance-docs"
OCR_RESULT_BUCKET="ocr-json-cache"
INSURANCE_OCR_METRICS_WEBHOOK_URL="CHANGEME_INSURANCE_WEBHOOK"
INSURANCE_OCR_METRICS_TOKEN="CHANGEME_INSURANCE_OCR_TOKEN"
KYC_SIGNED_URL_TTL_SECONDS="604800"

## OpenAI / OCR limits
OPENAI_API_KEY="CHANGEME_OPENAI_API_KEY"
OCR_MAX_ATTEMPTS="3"
OCR_MAX_MENU_CATEGORIES="50"
OCR_MAX_MENU_ITEMS="500"
OCR_QUEUE_SCAN_LIMIT="5"

## Miscellaneous
QR_SALT="CHANGEME_QR_SALT"
IN_PRODUCTION="false"
CORS_ALLOWED_ORIGINS="http://localhost:5173"

# Optional: expose service key for Supabase CLI tasks (not required in Vercel)
SUPABASE_SERVICE_ROLE_KEY="${VITE_SUPABASE_SERVICE_ROLE_KEY}"
SUPABASE_DB_URL="postgresql://postgres:CHANGEME_PASSWORD@db.lhbowpbcpwoiparwnwgt.supabase.co:5432/postgres"
