PORT=4900
LOG_LEVEL=info

# Kafka Configuration
KAFKA_BROKERS=localhost:19092
KAFKA_CLIENT_ID=whatsapp-webhook-worker
KAFKA_GROUP_ID=whatsapp-webhook-worker-group
WEBHOOK_TOPIC=whatsapp.webhook.inbound
WEBHOOK_PROCESSED_TOPIC=whatsapp.webhook.processed
WEBHOOK_DLQ_TOPIC=whatsapp.webhook.dlq

# Redis Configuration (for idempotency)
REDIS_URL=redis://localhost:6380

# Supabase Configuration (for webhook processing)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# WhatsApp Security Configuration
# Required for webhook signature verification (HMAC-SHA256)
# Get this from Meta Developer Portal > App Settings > App Secret
WHATSAPP_APP_SECRET=your-whatsapp-app-secret

# Allow unsigned webhooks (for testing/internal forwarding only)
# Set to "true" to bypass signature verification
# WARNING: Do NOT enable in production unless for internal forwarding
WA_ALLOW_UNSIGNED_WEBHOOKS=false

# OpenAI Configuration (for AI features)
# ⚠️ MANDATORY: Use GPT-5 model only
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-5
# OPENAI_BASE_URL=https://api.openai.com/v1

# Worker Configuration
MAX_RETRIES=3
RETRY_DELAY_MS=1000
CONCURRENT_MESSAGES=10
