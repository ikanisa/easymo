â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘   ğŸš¨ FIX ALL REMAINING PHONE NUMBERS - DO THIS NOW!         â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Problem:
Over 1,000 businesses still have:
- Phone numbers like "0788 150 100" (with spaces, without +250)
- owner_whatsapp column is NULL

## Solution:
Run this SQL script in Supabase SQL Editor

---

## ğŸš€ STEPS TO FIX:

### 1. Open Supabase SQL Editor
   - Go to: https://lhbowpbcpwoiparwnwgt.supabase.co
   - Click "SQL Editor" in left menu
   - Click "New Query"

### 2. Copy the ENTIRE script
   - Open file: `scripts/FIX_ALL_PHONES_NOW.sql`
   - Select ALL text (Cmd+A)
   - Copy (Cmd+C)

### 3. Paste and Run
   - Paste into SQL Editor (Cmd+V)
   - Click "Run" button (or Cmd+Enter)
   - Wait 10-30 seconds

### 4. Verify
   The results will show:
   - How many phones fixed
   - How many owner_whatsapp populated
   - Sample of fixed records

---

## ğŸ“‹ What the Script Does:

1. âœ… Removes ALL spaces, dashes, dots from phone numbers
2. âœ… Converts "0788 150 100" â†’ "+250788150100"
3. âœ… Converts "788150100" â†’ "+250788150100"
4. âœ… Converts "250788150100" â†’ "+250788150100"
5. âœ… Populates owner_whatsapp with formatted phone
6. âœ… Removes invalid non-Rwanda numbers

---

## âœ… Expected Results:

Before:
```
phone: "0788 150 100"
owner_whatsapp: NULL
```

After:
```
phone: "+250788150100"
owner_whatsapp: "+250788150100"
```

---

## ğŸ” Verify After Running:

Run this query:
```sql
SELECT COUNT(*) FROM businesses WHERE owner_whatsapp IS NULL;
```

Should be close to 0 (only businesses without any phone number)

---

## â±ï¸ Time: 30 seconds

This will fix ALL remaining phone numbers and populate ALL owner_whatsapp columns!

---

## ğŸ¯ QUICK COPY-PASTE:

1. Open Supabase SQL Editor
2. Open: `scripts/FIX_ALL_PHONES_NOW.sql`
3. Copy ALL â†’ Paste â†’ Run
4. Done!

---

**This fixes EVERYTHING in one go!** ğŸš€
