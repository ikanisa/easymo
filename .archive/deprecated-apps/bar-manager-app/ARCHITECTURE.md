# ğŸ½ï¸ Bar Manager Desktop App - Architecture

**Purpose:** Desktop application for bar/restaurant staff to manage orders from Waiter AI

---

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WAITER AI ECOSYSTEM                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Customer Side (WhatsApp)              Backend                 Manager Side (Desktop)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚                                        â”‚                 â”‚
â”‚   CUSTOMER      â”‚                                        â”‚  BAR MANAGER    â”‚
â”‚                 â”‚                                        â”‚                 â”‚
â”‚  "Show menu"    â”‚                                        â”‚ Desktop App     â”‚
â”‚  "I want pizza" â”‚                                        â”‚ (This App)      â”‚
â”‚  "Add to cart"  â”‚                                        â”‚                 â”‚
â”‚  "Checkout"     â”‚                                        â”‚ â€¢ View Orders   â”‚
â”‚                 â”‚                                        â”‚ â€¢ Update Status â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚ â€¢ Manage Menu   â”‚
         â”‚                                                 â”‚ â€¢ Settings      â”‚
         â”‚ WhatsApp                                        â”‚                 â”‚
         â”‚ Messages                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                                          â”‚
         â†“                                                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                                                         â”‚         â”‚
â”‚           WhatsApp Business API                         â”‚         â”‚
â”‚           (Meta/Twilio)                                 â”‚         â”‚
â”‚                                                         â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                       â”‚                                            â”‚
                       â”‚ Webhook                                    â”‚
                       â”‚                                            â”‚
                       â†“                                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
        â”‚                              â”‚                           â”‚
        â”‚    wa-webhook (Edge Func)    â”‚                           â”‚
        â”‚                              â”‚                           â”‚
        â”‚  Routes to Waiter Agent      â”‚                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
                       â”‚                                            â”‚
                       â†“                                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
        â”‚                              â”‚                           â”‚
        â”‚    Waiter AI Agent           â”‚                           â”‚
        â”‚    (Gemini 2.5 Pro)          â”‚                           â”‚
        â”‚                              â”‚                           â”‚
        â”‚  â€¢ Understand intent         â”‚                           â”‚
        â”‚  â€¢ Search menu               â”‚                           â”‚
        â”‚  â€¢ Create orders             â”‚                           â”‚
        â”‚  â€¢ Process payments          â”‚                           â”‚
        â”‚  â€¢ Book tables               â”‚                           â”‚
        â”‚                              â”‚                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
                       â”‚                                            â”‚
                       â”‚ Read/Write                                 â”‚
                       â”‚                                            â”‚
                       â†“                                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                                          â”‚
        â”‚                SUPABASE DATABASE                         â”‚
        â”‚                                                          â”‚
        â”‚  Tables:                                                 â”‚
        â”‚  â€¢ orders (status, items, total)          â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚  â€¢ order_items                            Read/Write    â”‚
        â”‚  â€¢ menu_items                                           â”‚
        â”‚  â€¢ restaurants                                          â”‚
        â”‚  â€¢ waiter_conversations                                 â”‚
        â”‚  â€¢ waiter_messages                                      â”‚
        â”‚  â€¢ waiter_reservations                                  â”‚
        â”‚  â€¢ payments                                             â”‚
        â”‚                                                          â”‚
        â”‚  Real-time:                                             â”‚
        â”‚  â€¢ Subscribe to order changes             â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚  â€¢ Notify desktop app                     WebSocket     â”‚
        â”‚                                                          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Bar Manager Desktop App Features

### 1. Dashboard (Home Screen)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ½ï¸ Bar Manager - Dashboard                    [Settings]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Today's Summary                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ New Orders   â”‚ Preparing    â”‚ Ready        â”‚ Total $   â”‚â”‚
â”‚  â”‚     12 ğŸ””    â”‚      8       â”‚      3       â”‚  $456.00  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚  Active Orders                              [Refresh] [ğŸ”Š]  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ”´ NEW #WA-001                           2 mins ago   â”‚ â”‚
â”‚  â”‚    Customer: +250788123456                            â”‚ â”‚
â”‚  â”‚    Items: Pizza Margherita x2, Coke x2                â”‚ â”‚
â”‚  â”‚    Total: $24.00                                      â”‚ â”‚
â”‚  â”‚    [Accept] [Reject]                                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸŸ¡ PREPARING #WA-002                    10 mins ago   â”‚ â”‚
â”‚  â”‚    Customer: +250788234567                            â”‚ â”‚
â”‚  â”‚    Items: Burger x1, Fries x1                         â”‚ â”‚
â”‚  â”‚    Total: $18.00                                      â”‚ â”‚
â”‚  â”‚    [Mark Ready] [Cancel]                              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸŸ¢ READY #WA-003                        25 mins ago   â”‚ â”‚
â”‚  â”‚    Customer: +250788345678                            â”‚ â”‚
â”‚  â”‚    Items: Pasta x1, Salad x1                          â”‚ â”‚
â”‚  â”‚    Total: $22.00                                      â”‚ â”‚
â”‚  â”‚    [Mark Delivered] [View Details]                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Menu Management
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ Menu Management                           [+ Add Item]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Categories: [All] [Starters] [Mains] [Desserts] [Drinks]  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Pizza Margherita                          [Edit] [âŒ]  â”‚ â”‚
â”‚  â”‚ Fresh tomatoes, mozzarella, basil                     â”‚ â”‚
â”‚  â”‚ Price: $12.00  â”‚  Category: Mains  â”‚  Available: âœ…   â”‚ â”‚
â”‚  â”‚ Prep Time: 15 min  â”‚  Allergens: Gluten, Dairy        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Burger Classic                            [Edit] [âŒ]  â”‚ â”‚
â”‚  â”‚ Beef patty, lettuce, tomato, cheese                   â”‚ â”‚
â”‚  â”‚ Price: $15.00  â”‚  Category: Mains  â”‚  Available: âœ…   â”‚ â”‚
â”‚  â”‚ Prep Time: 20 min  â”‚  Allergens: Gluten               â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Tiramisu                                  [Edit] [âŒ]  â”‚ â”‚
â”‚  â”‚ Classic Italian dessert                               â”‚ â”‚
â”‚  â”‚ Price: $8.00   â”‚  Category: Desserts â”‚ Available: âŒ  â”‚ â”‚
â”‚  â”‚ Prep Time: 5 min   â”‚  Allergens: Dairy, Eggs          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Order Details View
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Order #WA-001                                  [Close]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Status: ğŸ”´ NEW                                             â”‚
â”‚  Created: Nov 27, 2025 2:30 PM                              â”‚
â”‚  Customer: +250788123456                                    â”‚
â”‚  Order Type: Delivery                                       â”‚
â”‚                                                             â”‚
â”‚  Items:                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  1. Pizza Margherita x2               $24.00          â”‚ â”‚
â”‚  â”‚     Special: Extra cheese                             â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  2. Coca Cola x2                      $4.00           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  Subtotal:                                      $28.00      â”‚
â”‚  Tax (10%):                                     $2.80       â”‚
â”‚  Total:                                         $30.80      â”‚
â”‚                                                             â”‚
â”‚  Payment: MoMo USSD (*182*8*1*30.80#) - Pending             â”‚
â”‚                                                             â”‚
â”‚  Delivery Address:                                          â”‚
â”‚  KN 5 Ave, Kigali, Rwanda                                   â”‚
â”‚                                                             â”‚
â”‚  Customer Notes:                                            â”‚
â”‚  "Please make it spicy!"                                    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [Accept]     â”‚ [Reject]     â”‚ [Contact Customer]       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Settings
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ Settings                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Restaurant Info:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Name:        [La Bella Restaurant                   ] â”‚ â”‚
â”‚  â”‚ Phone:       [+250788000000                         ] â”‚ â”‚
â”‚  â”‚ Address:     [KN 5 Ave, Kigali                      ] â”‚ â”‚
â”‚  â”‚ Email:       [info@labella.rw                       ] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  Operating Hours:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Monday:      [09:00] - [22:00]    [âœ“ Open]           â”‚ â”‚
â”‚  â”‚ Tuesday:     [09:00] - [22:00]    [âœ“ Open]           â”‚ â”‚
â”‚  â”‚ ...                                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  Payment Settings:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Accept MTN MoMo:       [âœ“]                            â”‚ â”‚
â”‚  â”‚ Accept Airtel Money:   [âœ“]                            â”‚ â”‚
â”‚  â”‚ Accept Cash:           [âœ“]                            â”‚ â”‚
â”‚  â”‚ Accept Revolut:        [ ]                            â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ MoMo USSD Code:   [*182*8*1#                       ]  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  Notifications:                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Sound on new order:    [âœ“]                            â”‚ â”‚
â”‚  â”‚ Desktop notifications: [âœ“]                            â”‚ â”‚
â”‚  â”‚ Auto-refresh interval: [30 seconds          ]         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  [Save Changes]                                             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Technical Stack

### Frontend
- **Framework:** Next.js 15 (App Router)
- **UI:** Tailwind CSS + shadcn/ui components
- **State:** React Context + Zustand
- **Real-time:** Supabase Realtime subscriptions

### Desktop
- **Framework:** Tauri 2.0
- **Platform:** Windows, macOS, Linux
- **Size:** ~8-12 MB

### Backend Integration
- **Database:** Supabase (PostgreSQL)
- **Real-time:** WebSocket subscriptions for order updates
- **Auth:** Supabase Auth (staff login)

---

## Database Tables Used

```sql
-- Main order management
orders (id, customer_phone, status, total, created_at, restaurant_id)
order_items (id, order_id, menu_item_id, quantity, price, special_instructions)
menu_items (id, name, description, price, category, available, restaurant_id)

-- Restaurant management
restaurants (id, name, phone, address, payment_settings, operating_hours)

-- Staff access
staff (id, restaurant_id, name, email, role)
```

---

## Real-time Updates Flow

```
Customer sends order via WhatsApp
          â†“
Waiter AI creates order in DB (status: 'pending')
          â†“
Supabase triggers real-time event
          â†“
Desktop app receives notification
          â†“
ğŸ”” Sound plays + Desktop notification shows
          â†“
Order appears in "New Orders" section
          â†“
Bar manager accepts order
          â†“
Status updated to 'preparing'
          â†“
Customer receives WhatsApp confirmation
          â†“
Bar manager marks as 'ready'
          â†“
Customer notified via WhatsApp
          â†“
Bar manager marks as 'delivered'
          â†“
Order moves to history
```

---

## File Structure

```
bar-manager-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â””â”€â”€ login/page.tsx
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # Main dashboard
â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx             # All orders
â”‚   â”‚   â”‚   â””â”€â”€ [id]/page.tsx        # Order details
â”‚   â”‚   â”œâ”€â”€ menu/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx             # Menu management
â”‚   â”‚   â”‚   â””â”€â”€ [id]/page.tsx        # Edit menu item
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚       â””â”€â”€ page.tsx             # Restaurant settings
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”œâ”€â”€ OrderCard.tsx
â”‚   â”‚   â”œâ”€â”€ OrderList.tsx
â”‚   â”‚   â”œâ”€â”€ OrderDetails.tsx
â”‚   â”‚   â””â”€â”€ StatusBadge.tsx
â”‚   â”œâ”€â”€ menu/
â”‚   â”‚   â”œâ”€â”€ MenuItemCard.tsx
â”‚   â”‚   â”œâ”€â”€ MenuItemForm.tsx
â”‚   â”‚   â””â”€â”€ CategoryTabs.tsx
â”‚   â””â”€â”€ ui/                          # shadcn components
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase.ts                  # Supabase client
â”‚   â”œâ”€â”€ realtime.ts                  # Real-time subscriptions
â”‚   â””â”€â”€ notifications.ts             # Desktop notifications
â”œâ”€â”€ src-tauri/                       # Tauri configuration
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”œâ”€â”€ src/main.rs
â”‚   â””â”€â”€ tauri.conf.json
â””â”€â”€ package.json
```

---

## Next Steps

1. **Initialize Next.js app** in `bar-manager-app/`
2. **Set up Tauri** configuration
3. **Create UI components** for order management
4. **Implement real-time subscriptions** to orders table
5. **Add desktop notifications** for new orders
6. **Create menu management** CRUD operations
7. **Add authentication** for staff login
8. **Build desktop app** for Windows/macOS/Linux

---

**Status:** Ready to implement  
**Estimated Time:** 2-3 days for MVP  
**Priority Features:** Dashboard, Order Management, Menu CRUD
