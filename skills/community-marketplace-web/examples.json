[
  {
    "title": "Clarify missing price range for a buy request",
    "description": "User starts with a short buy request but omits pricing. Moltbot asks for numbers before updating the draft.",
    "user_messages": [
      "I need a used mountain bike in Kigali."
    ],
    "tool_plan": {
      "ask_user": {
        "question": "Could you tell me the price range you're comfortable with so I can search for matches?",
        "target_fields": [
          "price_min",
          "price_max"
        ]
      }
    }
  },
  {
    "title": "Complete a sell post, post it, match, and notify",
    "description": "Moltbot captures post fields, marks the draft as posted, generates explainable matches, queues notifications, and surfaces discovery links.",
    "user_messages": [
      "Selling a gently used smartphone with warranty included. Price between 200000 and 250000 RWF. Pickup in Remera."
    ],
    "tool_plan": {
      "actions": [
        {
          "update_post": {
            "post_id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
            "fields": {
              "type": "sell",
              "category": "electronics",
              "title": "Used smartphone with warranty",
              "description": "Comes with charger, warranty card, and original box",
              "price_min": 200000,
              "price_max": 250000,
              "location_text": "Remera, Kigali",
              "currency": "RWF"
            }
          }
        },
        {
          "post_now": {
            "post_id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
            "status": "posted",
            "posted_at": "2026-01-28T15:00:00Z"
          }
        },
        {
          "suggest_matches": {
            "post_id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
            "matches": [
              {
                "match_type": "internal_listing",
                "target_id": "6d7f2f7b-8b07-4e99-ab6b-3ec3b3f2f9d0",
                "score": 87.3,
                "reasons": [
                  { "code": "CATEGORY", "description": "Same electronics category", "score_delta": 10 },
                  { "code": "PRICE", "description": "Listing price 230000 RWF falls inside seller range", "score_delta": 5 },
                  { "code": "RECENCY", "description": "Listing posted within the last hour", "score_delta": 3 }
                ]
              }
            ]
          }
        },
        {
          "notify_top_targets": {
            "post_id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
            "targets": [
              {
                "target_type": "seller_session",
                "target_id": "d8fb5c23-1c0b-4b4e-9e72-a50dbe2a55ef",
                "channel": "web",
                "payload": { "message": "New sell request matches your listing" }
              },
              {
                "target_type": "vendor",
                "target_id": "b8f3c1a0-23a4-4b3e-b3c2-1c22f9c22fa3",
                "channel": "whatsapp",
                "payload": { "message": "Potential match in Remera" }
              }
            ]
          }
        },
        {
          "show_feed_options": {
            "post_id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
            "feed_items": [
              {
                "feed_item_id": "c1e2d6b1-0f87-4f4f-8a0b-525d0cf5f411",
                "source": "openai_web_search",
                "title": "Remera mobile shops with smartphones",
                "url": "https://discover.example.com/rem-phones",
                "snippet": "Verified vendors listing phones around 220000-240000 RWF",
                "confidence": 0.68
              }
            ]
          }
        }
      ]
    }
  }
  ,
  {
    "title": "Create and publish an anonymous product listing",
    "description": "User wants to sell a service/product listing. Moltbot creates a listing draft, updates captured fields, and publishes once minimum fields are present.",
    "user_messages": [
      "I want to list a phone for sale. iPhone 12, 230000 RWF, pickup Remera Kigali."
    ],
    "tool_plan": {
      "actions": [
        {
          "create_listing_draft": {
            "session_id": "d8fb5c23-1c0b-4b4e-9e72-a50dbe2a55ef",
            "listing_type": "product"
          }
        },
        {
          "update_listing_fields": {
            "listing_id": "2c1f9f3d-3a0e-4a8b-9c7c-2b2f9f0a1111",
            "fields": {
              "category": "electronics",
              "title": "iPhone 12",
              "description": "iPhone 12, good condition",
              "price": 230000,
              "currency": "RWF",
              "location_text": "Remera, Kigali",
              "availability": "in_stock"
            }
          }
        },
        {
          "publish_listing": {
            "listing_id": "2c1f9f3d-3a0e-4a8b-9c7c-2b2f9f0a1111"
          }
        }
      ]
    }
  },
  {
    "title": "Browse published listings (products/services)",
    "description": "User asks to browse listings. Moltbot requests a small list of published listings in a category.",
    "user_messages": [
      "Show me available phone listings around Kigali"
    ],
    "tool_plan": {
      "actions": [
        {
          "list_published_listings": {
            "filters": {
              "category": "electronics",
              "listing_type": "product",
              "limit": 10
            }
          }
        }
      ]
    }
  },
  {
    "title": "Contact a seller by creating a listing inquiry",
    "description": "User wants to message a seller about a listing. Moltbot creates an inquiry tied to the buyer session.",
    "user_messages": [
      "Message the seller of listing 2c1f9f3d-3a0e-4a8b-9c7c-2b2f9f0a1111: Is the phone still available?"
    ],
    "tool_plan": {
      "actions": [
        {
          "create_listing_inquiry": {
            "listing_id": "2c1f9f3d-3a0e-4a8b-9c7c-2b2f9f0a1111",
            "buyer_session_id": "a8f3c1a0-23a4-4b3e-b3c2-1c22f9c22fa3",
            "message": "Is the phone still available?"
          }
        }
      ]
    }
  },
  {
    "title": "Request business verification for a listing",
    "description": "Anonymous seller wants to become a verified vendor. Moltbot submits a verification request for admin review.",
    "user_messages": [
      "I want to verify my business so I can appear in the vendors directory. My shop is Kigali Phones Hub, phone +250788123456."
    ],
    "tool_plan": {
      "actions": [
        {
          "request_listing_verification": {
            "listing_id": "2c1f9f3d-3a0e-4a8b-9c7c-2b2f9f0a1111",
            "session_id": "d8fb5c23-1c0b-4b4e-9e72-a50dbe2a55ef",
            "requested_vendor_name": "Kigali Phones Hub",
            "requested_phone": "+250788123456",
            "requested_business_location": "Remera, Kigali"
          }
        }
      ]
    }
  }
]
