# Developer setup quickstart

## Required environment variables

Ensure the following variables are configured locally before running Supabase, staging, or production builds. The `scripts/check-env.mjs` helper validates this list.

| Variable | Purpose |
| --- | --- |
| `SUPABASE_URL` | Base URL for the Supabase project (used by server-side admin client). |
| `SUPABASE_SERVICE_ROLE_KEY` | Service-role key for privileged server access; required for RLS-protected writes. |
| `SUPABASE_JWT_SECRET` | JWT secret used for validating service tokens. |
| `NEXT_PUBLIC_SUPABASE_URL` | Public Supabase URL exposed to the browser client. |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Public anon key exposed to the browser client. |
| `SLA_ALERT_WEBHOOK_URL` | Webhook endpoint that receives SLA breach alerts generated by monitoring. |
| `SUPABASE_CHANNEL_MONITOR_WEBHOOK` | Destination for realtime channel monitoring events. |
| `AGENT_AUDIT_WEBHOOK_URL` | Endpoint for downstream audit processing of agent actions. |

Run the verification script to confirm everything is set:

```bash
pnpm env:check
```

## RLS sanity check

Before deploying schema changes, run the policy audit to confirm row-level security is enabled on all critical tables:

```bash
./tools/sql/policy_audit.ts
```

The script now validates that the agent orchestration tables (`agent_sessions`, `agent_quotes`, and audit logs) include both RLS enablement and explicit policies in the compiled schema.

## Monitoring

Realtime channel telemetry and SLA breaches are collected through `/api/monitoring/realtime` and `/api/monitoring/sla`. Ensure the webhook destinations above accept JSON payloads and respond with `2xx` to avoid retry storms.
