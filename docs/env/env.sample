# =========================
#  easyMO Environment Map
#  (Populate and copy to your runtime .env file)
# =========================

# --- Supabase (shared across app + edge functions) ---
NEXT_PUBLIC_SUPABASE_URL=https://vacltfdslodqybxojytc.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=CHANGEME_SUPABASE_ANON_KEY
SUPABASE_URL=https://vacltfdslodqybxojytc.supabase.co
SUPABASE_ANON_KEY=${NEXT_PUBLIC_SUPABASE_ANON_KEY}
SUPABASE_SERVICE_ROLE_KEY=CHANGEME_SUPABASE_SERVICE_ROLE_KEY
SERVICE_ROLE_KEY=${SUPABASE_SERVICE_ROLE_KEY}
SUPABASE_JWT_SECRET=CHANGEME_SUPABASE_JWT_SECRET
SUPABASE_PROJECT_REF=vacltfdslodqybxojytc
SUPABASE_DB_PASSWORD=CHANGEME_POSTGRES_PASSWORD
SUPABASE_DB_URL=postgresql://postgres:${SUPABASE_DB_PASSWORD}@db.vacltfdslodqybxojytc.supabase.co:5432/postgres
SUPABASE_ACCESS_TOKEN=
SUPABASE_EDGE_FUNCTIONS_REGION=fra1
SUPABASE_FUNCTIONS_URL=https://vacltfdslodqybxojytc.supabase.co/functions/v1
POSTGIS_USE_STATS=true

# ADMIN_TOKEN protects Supabase edge functions (x-admin-token header)
ADMIN_TOKEN=CHANGEME_ADMIN_EDGE_TOKEN
# The admin panel can read VITE_ADMIN_TOKEN when running entirely client-side
VITE_ADMIN_TOKEN=${ADMIN_TOKEN}
ADMIN_SESSION_SECRET=CHANGEME_SESSION_SECRET_AT_LEAST_16_CHARS
ADMIN_SESSION_TTL_SECONDS=43200
ADMIN_ACCESS_CREDENTIALS='[{"actorId":"00000000-0000-0000-0000-000000000001","email":"info@ikanisa.com","password":"MoMo!!0099","username":"Admin"}]'
ADMIN_FLOW_WA_ID=

# --- Admin Panel Runtime ---
NEXT_PUBLIC_ENVIRONMENT_LABEL=Staging
NEXT_PUBLIC_USE_MOCKS=false
VITE_API_BASE=${SUPABASE_FUNCTIONS_URL}
VITE_SUPABASE_URL=${NEXT_PUBLIC_SUPABASE_URL}
VITE_SUPABASE_ANON_KEY=${NEXT_PUBLIC_SUPABASE_ANON_KEY}
VITE_SUPABASE_PROJECT_ID=${SUPABASE_PROJECT_REF}
VITE_ENABLE_AGENT_CHAT=false

# Edge previews
ENABLE_AGENT_CHAT=false
FEATURE_AGENT_CHAT=0
FEATURE_AGENT_WEB_SEARCH=0

# --- Optional UI Integrations ---
# Degrade gracefully when left blank.
NEXT_PUBLIC_VOUCHER_PREVIEW_ENDPOINT=
NEXT_PUBLIC_WHATSAPP_SEND_ENDPOINT=
NEXT_PUBLIC_CAMPAIGN_DISPATCHER_ENDPOINT=
WHATSAPP_SEND_ENDPOINT=
WHATSAPP_SEND_TIMEOUT_MS=10000
WHATSAPP_SEND_RETRIES=2

# --- WhatsApp Cloud API / Meta Flows ---
WHATSAPP_API_BASE_URL=https://graph.facebook.com/v20.0
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_SYSTEM_USER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_VERIFY_TOKEN=
WHATSAPP_APP_SECRET=
WHATSAPP_TEMPLATE_NAMESPACE=

# Flow data channel endpoint consumers should provide a short-lived auth secret
FLOW_DATA_CHANNEL_TOKEN=
FLOW_ENCRYPTION_PRIVATE_KEY=
FLOW_ENCRYPTION_PUBLIC_KEY=

# --- Notification Templates (Meta) ---
TEMPLATE_ORDER_CREATED_VENDOR=order_created_vendor
TEMPLATE_ORDER_PENDING_VENDOR=order_pending_vendor
TEMPLATE_ORDER_PAID_CUSTOMER=order_paid_customer
TEMPLATE_ORDER_SERVED_CUSTOMER=order_served_customer
TEMPLATE_ORDER_CANCELLED_CUSTOMER=order_cancelled_customer
TEMPLATE_CART_REMINDER_CUSTOMER=cart_reminder_customer

# --- OCR Provider (menu ingestion) ---
OCR_PROVIDER=azure_document_intelligence
OCR_ENDPOINT_URL=
OCR_API_KEY=

# --- Storage / Media ---
MENU_MEDIA_BUCKET=menu-source-files
INSURANCE_MEDIA_BUCKET=insurance-docs
OCR_RESULT_BUCKET=ocr-json-cache
VOUCHERS_BUCKET=vouchers
VOUCHER_SIGNING_SECRET=replace-with-secret

# --- QR Tokens & Security ---
QR_TOKEN_SECRET=
QR_TOKEN_TTL_SECONDS=0
BRIDGE_SHARED_SECRET=

# --- Simulator / Phase 2 Admin ---
SIMULATOR_DEFAULT_RADIUS_KM=5
SIMULATOR_MAX_RESULTS=10

# --- Observability / Monitoring ---
LOG_LEVEL=info
LOG_DRAIN_URL=
METRICS_DRAIN_URL=
TRACES_EXPORTER_URL=
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
NEXT_PUBLIC_SENTRY_DSN=
ALERT_WEBHOOK_URL=

# --- OpenAI Web Search ---
WEB_SEARCH_ENABLED=0
WEB_SEARCH_ALLOWED_DOMAINS=
WEB_SEARCH_INCLUDE_SOURCES=1
WEB_SEARCH_LOCATION_COUNTRY=
WEB_SEARCH_LOCATION_CITY=
WEB_SEARCH_LOCATION_REGION=
WEB_SEARCH_LOCATION_TIMEZONE=

# --- Internal Service URLs ---
FLOW_EXCHANGE_BASE_URL=
WHATSAPP_WEBHOOK_PUBLIC_URL=
MEDIA_FETCH_CALLBACK_URL=
AGENT_CORE_URL=http://localhost:4000
AGENT_CORE_INTERNAL_TOKEN=internal-admin-token
AGENT_INTERNAL_TENANT_ID=a4a8cf2d-0a4f-446c-8bf2-28509641158f
VOICE_BRIDGE_API_URL=http://localhost:4100
WALLET_SERVICE_URL=http://localhost:4400
MARKETPLACE_RANKING_URL=http://localhost:4500
MARKETPLACE_VENDOR_URL=http://localhost:4600
MARKETPLACE_BUYER_URL=http://localhost:4700

# --- Testing Fixtures ---
TEST_CUSTOMER_WA_ID=
TEST_VENDOR_WA_ID=
