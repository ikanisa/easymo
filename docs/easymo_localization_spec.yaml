easymo_localization_spec:
  version: "2025-10-03"
  owner: "Core Platform · Localization"
  summary:
    purpose: >
      Localize easyMo services across Sub‑Saharan Africa (English/French only)
      with country-aware feature flags and mobile-money USSD support, while preserving
      Rwanda’s full feature set (incl. Motor Insurance).
    exclusions:
      countries_excluded_by_request:
        - Kenya
        - Uganda
        - Nigeria
        - South Africa
    principles:
      - "Never hardcode 'MOMO' in UX—use 'mobile money' (i18n key)."
      - "Detect country from WhatsApp MSISDN (E.164) → ISO country."
      - "Hide Motor Insurance unless country = RW or user is admin (override)."
      - "Prefer operator-official USSD; encode inline-parameter templates only when documented."
      - "QR payloads use tel: scheme with USSD string (device/dialer compatible)."
      - "Menu-only markets: expose dial-in path + step hints in UX; no inline templates."

  feature_gating:
    motor_insurance:
      default: "hidden"
      rules:
        - if: "user.msisdn_country_iso == 'RW'"
          then: "visible"
        - if: "user.phone in admin_numbers"
          then: "visible"
      audit_log_on_hide: true
      ui_copy_key_when_hidden: "feature_unavailable_in_country"
    services_general:
      available_internationally: true
      exceptions:
        - service: "motor_insurance"
          availability: "Rwanda-only unless admin override"

  detection_and_overrides:
    msisdn_country_detection:
      source: "WhatsApp JID phone (E.164)"
      parsing_library: "libphonenumber-js"
      fallback:
        - "last_known_geoip"
        - "user_profile.country_preference"
      persist_to_user_profile: true
      denylist_examples:
        - "VoIP ranges if present"
    admin_numbers:
      table: "admin_numbers"
      fields: [msisdn_e164, reason, created_at]
      effect: "Bypass country gate for restricted features"
    audit:
      table: "feature_gate_audit"
      fields: [user_id, msisdn, detected_country, rule_hit, timestamp]

  i18n:
    locales_supported: ["en", "fr"]
    copy_keys:
      mobile_money:
        en: "mobile money"
        fr: "mobile money"
      feature_unavailable_in_country:
        en: "This feature isn’t available in your country."
        fr: "Cette fonctionnalité n’est pas disponible dans votre pays."
      open_ussd_instructions:
        en: "Tap to dial the code below and follow the menu."
        fr: "Appuyez pour composer le code ci-dessous et suivez le menu."
      qr_instructions:
        en: "Scan to auto-dial the USSD code."
        fr: "Scannez pour composer automatiquement le code USSD."

  qr_payloads:
    scheme: "tel:"
    notes:
      - "On iOS/Android most dialers accept USSD via tel: URIs; avoid spaces."
      - "If device blocks USSD via tel:, fall back to copy-to-clipboard + manual dial."
    image_style_defaults:
      format: "PNG"
      dpi: 300
      bleed_mm: 3
      safe_margin_mm: 5
      design_theme: "liquid-glass / colorful gradient / high-contrast 5‑digit code"

  ussd_registry:
    RW:
      country_name: "Rwanda"
      language_tags: ["rw", "en", "fr"]
      operators:
        - brand: "MTN MoMo (national aggregator)"
          ussd_menu: "*182#"
          supports_inline_params: true
          inline_templates:
            send_wallet_to_wallet: "*182*1*1*{recipient_msisdn}*{amount}#"
            merchant_pay: "*182*8*1*{merchant_code}*{amount}#"
            get_merchant_code: "*182*8*3#"
          qr_ready: true
          source_url:
            - "https://www.mtn.co.rw/momo/"
            - "https://x.com/MoMo_Rwanda"
        - brand: "Airtel Money"
          ussd_menu: "*182#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*182*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.airtel.co.rw/airtel-money"
    TZ:
      country_name: "Tanzania"
      language_tags: ["sw", "en"]
      operators:
        - brand: "Vodacom M‑Pesa"
          ussd_menu: "*150*00#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*150*00*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.vodacom.co.tz/mpesa"
        - brand: "Tigo Pesa"
          ussd_menu: "*150*01#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*150*01*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.tigo.co.tz/tigo-pesa"
        - brand: "Airtel Money"
          ussd_menu: "*150*60#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.airtel.co.tz/airtelmoney/send-receive-money-from-abroad"
        - brand: "Halopesa (TTCL)"
          ussd_menu: "*150*88#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.ttcl.co.tz/halopesa"
    GH:
      country_name: "Ghana"
      language_tags: ["en"]
      operators:
        - brand: "MTN MoMo"
          ussd_menu: "*170#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*170*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://financeinafrica.com/news/momos-ghana-nigeria-transfers/"
        - brand: "Vodafone Cash"
          ussd_menu: "*110#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*110*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://vodafone.com.gh/"
    ZM:
      country_name: "Zambia"
      language_tags: ["en"]
      operators:
        - brand: "MTN MoMo"
          ussd_menu: "*303#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*303*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.mtn.zm/momo/"
        - brand: "Airtel Money"
          ussd_menu: "*115#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*778*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.facebook.com/Airtelzm/posts/5526723510705490/"
    MW:
      country_name: "Malawi"
      language_tags: ["en"]
      operators:
        - brand: "Airtel Money"
          ussd_menu: "*211#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*211*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.airtel.mw/airtelmoney/howItWork"
        - brand: "TNM Mpamba"
          ussd_menu: "*444#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*444*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://mpamba.tnm.co.mw/"
    ZW:
      country_name: "Zimbabwe"
      language_tags: ["en"]
      operators:
        - brand: "EcoCash (Econet)"
          ussd_menu: "*151#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*151*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.econet.co.zw/"
        - brand: "OneMoney (NetOne)"
          ussd_menu: "*111#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.netone.co.zw/"
        - brand: "Telecash (Telecel)"
          ussd_menu: "*888#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.telecelzim.co.zw/"
    SL:
      country_name: "Sierra Leone"
      language_tags: ["en"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "#144#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*144*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.facebook.com/orange.sierraleone/posts/2353129824917799/"
        - brand: "Afrimoney (Africell)"
          ussd_menu: "*161#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.africell.sl/afrimoney"
        - brand: "QMoney (QCell)"
          ussd_menu: "*335#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://qcell.sl/"
    LR:
      country_name: "Liberia"
      language_tags: ["en"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "*144#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*144*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.lra.gov.lr/2017/10/17/orange-money/"
        - brand: "Lonestar MTN MoMo"
          ussd_menu: "*156#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*156*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.lra.gov.lr/2017/10/17/orange-money/"
    GM:
      country_name: "Gambia"
      language_tags: ["en"]
      operators:
        - brand: "QMoney (QCell)"
          ussd_menu: "*323#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*323*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.qmoney.gm/"
        - brand: "Afrimoney (Africell)"
          ussd_menu: "*777#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*777*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.africell.gm/afrimoney"
    CI:
      country_name: "Côte d’Ivoire"
      language_tags: ["fr"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "#144#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "#144*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://orange.ci/"
        - brand: "MTN MoMo"
          ussd_menu: "*133#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.mtn.ci/"
        - brand: "Moov Money"
          ussd_menu: "*155#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.moov-africa.ci/"
    TG:
      country_name: "Togo"
      language_tags: ["fr"]
      operators:
        - brand: "TMoney (Togocom)"
          ussd_menu: "*145#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*145*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.togocom.tg/"
        - brand: "Moov Money (Flooz)"
          ussd_menu: "*155#"
          supports_inline_params: true
          inline_templates:
            transfer_moov_to_moov: "*155*1*1*{recipient_msisdn}*{amount}#"
            transfer_international: "*155*1*2*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://moov-africa.tg/moov-money/transfert-flooz/"
            - "https://moov-africa.tg/moov-money/transfert-international-flooz/"
    BJ:
      country_name: "Bénin"
      language_tags: ["fr"]
      operators:
        - brand: "MTN MoMo"
          ussd_menu: "*880#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*880*1*{recipient_msisdn}*{amount}*{pin}#"
          qr_ready: true
          source_url:
            - "https://mtn.bj/"
    BF:
      country_name: "Burkina Faso"
      language_tags: ["fr"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "*144#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*144*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.orange.bf/fr/codes-utiles-new.html"
        - brand: "Moov Money (Onatel)"
          ussd_menu: "*555#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://moov-africa.bf/particulier/moovmoney/Pages/moovmoney.aspx"
    ML:
      country_name: "Mali"
      language_tags: ["fr"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "#144#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*144*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://assistance.orange.sn/questions/2372960-orange-money-faire-transfert-international"
        - brand: "Moov Money (Malitel)"
          ussd_menu: "*166#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.moov-africa.ml/"
    NE:
      country_name: "Niger"
      language_tags: ["fr"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "#144#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://www.orange.ne/"
        - brand: "Moov Money"
          ussd_menu: "*157#"
          supports_inline_params: true
          inline_templates:
            transfer: "*157*1#"
            bill_pay_nigelec: "*157*4*1#"
            bill_pay_seen: "*157*4*3#"
          qr_ready: true
          source_url:
            - "https://www.moov-africa.ne/moov-money/"
    GN:
      country_name: "Guinée"
      language_tags: ["fr"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "*144#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*144*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://x.com/orangemoneygn"
        - brand: "MTN MoMo"
          ussd_menu: "*440#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*440*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://mtn.com.gn/mobile-money"
    CM:
      country_name: "Cameroun"
      language_tags: ["fr", "en"]
      operators:
        - brand: "MTN MoMo"
          ussd_menu: "*126#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*222*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://mtn.cm/helppersonal/momo-account/"
        - brand: "Orange Money"
          ussd_menu: "#150#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "#150*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://orange.cm/"
    CD:
      country_name: "République démocratique du Congo"
      language_tags: ["fr"]
      operators:
        - brand: "Vodacom M‑Pesa"
          ussd_menu: "*1122#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*1122*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.facebook.com/VodacomRDC/posts/2050676381706772/"
        - brand: "Orange Money"
          ussd_menu: "*144#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://support.taptapsend.com/hc/en-gb/articles/360063776453-Orange-DRC-cashout-tips"
        - brand: "Airtel Money"
          ussd_menu: "*501#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*501*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.airtel.cd/airtelmoney/howItWork"
            - "https://support.taptapsend.com/hc/en-gb/articles/360061941774-Airtel-DRC-cashout-tips"
        - brand: "Africell Money"
          ussd_menu: "*111#"
          supports_inline_params: false
          qr_ready: true
          source_url:
            - "https://techjunction.co/complete-guide-to-africell-drc-ussd-display-number-change-pin-mobile-money-apn/"
    CG:
      country_name: "Congo-Brazzaville"
      language_tags: ["fr"]
      operators:
        - brand: "Airtel Money"
          ussd_menu: "*128#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*121*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://support.taptapsend.com/hc/en-gb/articles/1500012555002-Airtel-Congo-Cashout-Tips"
        - brand: "MTN MoMo"
          ussd_menu: "*133#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*105*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://techjunction.co/guide-to-mtn-congo-ussd-codes-call-back-my-number-momo-pin-reset-pay-bills-apn/"
    CF:
      country_name: "République centrafricaine"
      language_tags: ["fr"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "#144#"
          supports_inline_params: true
          inline_templates:
            transfer_cemac: "#144*12#"
          qr_ready: true
          source_url:
            - "https://www.orangerca.com/"
            - "https://www.orangerca.com/fr/transfert-cemac.html"
    TD:
      country_name: "Tchad"
      language_tags: ["fr"]
      operators:
        - brand: "Airtel Money"
          ussd_menu: "*436#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*436*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.airtel.td/"
    GA:
      country_name: "Gabon"
      language_tags: ["fr"]
      operators:
        - brand: "Airtel Money"
          ussd_menu: "*555#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*150*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://techjunction.co/guide-to-airtel-gabon-ussd-codes-balance-check-pin-puk-airtel-money-apn-customer-care/"
        - brand: "Moov Money"
          ussd_menu: "*555#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*555*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.moov-africa.ga/"
    MG:
      country_name: "Madagascar"
      language_tags: ["fr"]
      operators:
        - brand: "MVola (Telma/Yas)"
          ussd_menu: "#111#"
          supports_inline_params: true
          inline_templates:
            transfer: "#111*1*2#"
            utilities: "#111*1*5*3#"
            send_p2p: "*111*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.mvola.mg/transfert-dargent/"
            - "https://www.mvola.mg/paiement-facture-et-partenaires/"
        - brand: "Orange Money"
          ussd_menu: "#144#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "#144*1*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.orange.mg/fr/les-codes-utiles.html"
    BW:
      country_name: "Botswana"
      language_tags: ["en"]
      operators:
        - brand: "Orange Money"
          ussd_menu: "*145#"
          supports_inline_params: true
          inline_templates:
            send_p2p: "*145*1*{recipient_msisdn}*{amount}#"
          qr_ready: true
          source_url:
            - "https://www.orange.co.bw/en/ussd-codes.html"
*** End Patch

  runtime_rules:
    country_resolution:
      code: |
        function resolveCountryIsoFromWhatsAppJid(jid) {
          const e164 = extractE164(jid);
          const country = libphonenumber.country(e164);
          return country?.iso2 || null;
        }
    show_hide_rules:
      - name: "motor_insurance_visibility"
        when: "route == 'insurance' || menu_section == 'Insurance'"
        action: |
          const isRW = user.country_iso === 'RW';
          const isAdmin = admin_numbers.includes(user.msisdn);
          if (!isRW && !isAdmin) hideSection('Insurance');
    mobile_money_cta:
      behavior:
        - if: "operator.supports_inline_params == true"
          then: "render 'Quick Pay' with prefilled USSD inline template + QR (tel:...)"
        - else: "render 'Dial to Pay' with base ussd_menu + step helper text"
    qr_generation:
      render:
        payload: "tel:{ussd_string}"
        image_style: "use qr_payloads.image_style_defaults"
        voucher_overlay:
          show_amount: true
          show_five_digit_code: true
          theme: "liquid-glass"
          localization: "merge country flag colors subtly; keep WCAG AA contrast"

  test_matrix:
    - id: T01
      name: "Rwanda user sees Insurance"
      setup: { msisdn: "+25078XXXXXXX" }
      expect: { insurance_visible: true, mobile_money_menu: "*182#" }
    - id: T02
      name: "Non-Rwanda user does NOT see Insurance"
      setup: { msisdn: "+23324XXXXXXX" }
      expect: { insurance_visible: false }
    - id: T03
      name: "Admin override shows Insurance"
      setup: { msisdn: "+23324XXXXXXX", admin: true }
      expect: { insurance_visible: true }
    - id: T04
      name: "Inline template Rwanda merchant QR"
      setup: { country: "RW", merchant_code: "000555", amount: 5000 }
      expect:
        ussd: "*182*8*1*000555*5000#"
        qr_payload: "tel:*182*8*1*000555*5000#"
    - id: T05
      name: "Menu-only market shows dial helper"
      setup: { country: "GH", operator: "MTN" }
      expect: { cta: "Dial *170# and follow menu" }

  known_gaps_and_next_sprint:
    - "Add verified Vodafone Cash (GH) and AirtelTigo Money (GH) menu codes from official sources."
    - "Complete Benin Moov Money primary-source link for *155#."
    - "Consider Namibia (EN) if later included; confirm MTC M‑Pesa codes."
    - "Equatorial Guinea, Djibouti, Comoros: French present but operator MM documentation is scarce—add once verified."
    - "For each operator, add structured 'menu_path_hints' (e.g., Send → Mobile → On‑net) for UX coaching."

  operational_playbook:
    data_refresh:
      cadence: "Quarterly sweep or upon operator change notice"
      owners: ["Payments Integrations", "Localization PM"]
      change_control: "Create PR updating this YAML + Supabase jsonb; run T01–T05; push"
    monitoring:
      ussd_launch_events: true
      wa_flow_dropoffs: true
      issue_labels: ["localization", "ussd", "country-gate"]

  p2p_transfer_templates:
    - country: RW
      provider: "MTN MoMo"
      ussd: "*182*1*1*{number}*{amount}#"
    - country: RW
      provider: "Airtel Money"
      ussd: "*182*1*{number}*{amount}#"
    - country: BJ
      provider: "MTN MoMo"
      ussd: "*880*1*{number}*{amount}*{PIN}#"
    - country: BF
      provider: "Orange Money"
      ussd: "*144*1*1*{number}*{amount}#"
    - country: CD
      provider: "Vodacom M-Pesa"
      ussd: "*1122*1*{number}*{amount}#"
    - country: CI
      provider: "Orange Money"
      ussd: "#144*1*1*{number}*{amount}#"
    - country: GH
      provider: "MTN MoMo"
      ussd: "*170*1*1*{number}*{amount}#"
    - country: GH
      provider: "Vodafone Cash"
      ussd: "*110*1*{number}*{amount}#"
    - country: LS
      provider: "Vodacom M-Pesa"
      ussd: "*111#"
      notes: "Menu navigation required"
    - country: ML
      provider: "Orange Money"
      ussd: "*144*1*1*{number}*{amount}#"
    - country: MZ
      provider: "Vodacom M-Pesa"
      ussd: "*150*1*{number}*{amount}#"
    - country: SN
      provider: "Orange Money"
      ussd: "#144*1*1*{number}*{amount}#"
    - country: TZ
      provider: "Vodacom M-Pesa"
      ussd: "*150*00*1*1*{number}*{amount}#"
    - country: TZ
      provider: "Tigo Pesa"
      ussd: "*150*01*1*{number}*{amount}#"
    - country: UG
      provider: "MTN MoMo"
      ussd: "*165*1*1*{number}*{amount}#"
      notes: "Market excluded from initial rollout"
    - country: UG
      provider: "Airtel Money"
      ussd: "*185*1*{number}*{amount}#"
      notes: "Market excluded from initial rollout"
    - country: ZM
      provider: "MTN MoMo"
      ussd: "*303*1*{number}*{amount}#"
    - country: ZM
      provider: "Airtel Money"
      ussd: "*778*1*{number}*{amount}#"
    - country: ZW
      provider: "EcoCash"
      ussd: "*151*1*1*{number}*{amount}#"
    - country: BI
      provider: "EcoCash (Econet Leo)"
      ussd: "*150*1*{number}*{amount}#"
    - country: CM
      provider: "MTN MoMo"
      ussd: "*222*1*1*{number}*{amount}#"
    - country: CM
      provider: "Orange Money"
      ussd: "#150*1*{number}*{amount}#"
    - country: TD
      provider: "Airtel Money"
      ussd: "*121*1*{number}*{amount}#"
    - country: CG
      provider: "MTN MoMo"
      ussd: "*105*1*{number}*{amount}#"
    - country: SZ
      provider: "MTN MoMo"
      ussd: "*007*1*{number}*{amount}#"
    - country: GA
      provider: "Airtel Money"
      ussd: "*150*1*{number}*{amount}#"
    - country: GA
      provider: "Moov Money"
      ussd: "*555*1*{number}*{amount}#"
    - country: GM
      provider: "Afrimoney"
      ussd: "*777*1*{number}*{amount}#"
    - country: GN
      provider: "Orange Money"
      ussd: "*144*1*1*{number}*{amount}#"
    - country: GN
      provider: "MTN MoMo"
      ussd: "*400*1*{number}*{amount}#"
    - country: LR
      provider: "Orange Money"
      ussd: "*144*1*{number}*{amount}#"
    - country: LR
      provider: "Lonestar MTN MoMo"
      ussd: "*156*1*{number}*{amount}#"
    - country: MG
      provider: "Orange Money"
      ussd: "#144*1*1*{number}*{amount}#"
    - country: MG
      provider: "Telma MVola"
      ussd: "*111*1*1*{number}*{amount}#"
    - country: MW
      provider: "Airtel Money"
      ussd: "*211*1*{number}*{amount}#"
    - country: MW
      provider: "TNM Mpamba"
      ussd: "*444*1*{number}*{amount}#"
    - country: NE
      provider: "Airtel Money"
      ussd: "*436*1*{number}*{amount}#"
    - country: SL
      provider: "Orange Money"
      ussd: "*144*1*{number}*{amount}#"
    - country: TG
      provider: "TMoney"
      ussd: "*145*1*{number}*{amount}#"
    - country: TG
      provider: "Moov Money"
      ussd: "*155*1*1*{number}*{amount}#"
    - country: AO
      provider: "Unitel"
      ussd: "*449*1*{number}*{amount}#"
    - country: BW
      provider: "Mascom MyZaka"
      ussd: "*167*1*{number}*{amount}#"
    - country: BW
      provider: "Orange Money"
      ussd: "*145*1*{number}*{amount}#"
    - country: ET
      provider: "Safaricom M-Pesa"
      ussd: "*733*1*1*{number}*{amount}#"
    - country: ET
      provider: "Telebirr"
      ussd: "*127*1*1*{number}*{amount}#"
    - country: MR
      provider: "Mattel Masrvi"
      ussd: "*555*1*{number}*{amount}#"
    - country: MU
      provider: "Orange Money"
      ussd: "#144*1*1*{number}*{amount}#"
    - country: MU
      provider: "Emtel Cash"
      ussd: "*800*1*{number}*{amount}#"
    - country: NA
      provider: "MTC Money"
      ussd: "*140*1*{number}*{amount}#"
    - country: SS
      provider: "MTN MoMo"
      ussd: "*222*1*{number}*{amount}#"
    - country: SD
      provider: "Zain Hassa"
      ussd: "*200*1*{number}*{amount}#"
    - country: SD
      provider: "MTN MoMo"
      ussd: "*6060*1*{number}*{amount}#"

  merchant_payment_templates:
    - country: RW
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*182*8*1*{merchant_code}*{amount}#"
    - country: RW
      provider: "MTN MoMo"
      payment_type: "Pay Bill"
      ussd: "*182*4*1*{business_no}*{amount}*{ref_no}#"
    - country: RW
      provider: "Airtel Money"
      payment_type: "Pay Merchant"
      ussd: "*182*3*{merchant_code}*{amount}#"
    - country: BJ
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*880*3*{merchant_code}*{amount}#"
    - country: BF
      provider: "Orange Money"
      payment_type: "Pay Merchant"
      ussd: "*144*4*{merchant_code}*{amount}#"
    - country: CM
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*222*1*4*{merchant_code}*{amount}#"
    - country: CM
      provider: "Orange Money"
      payment_type: "Pay Merchant"
      ussd: "#150*2*{merchant_code}*{amount}#"
    - country: CD
      provider: "Vodacom M-Pesa"
      payment_type: "Lipa na M-Pesa"
      ussd: "*1122*3*{merchant_code}*{amount}#"
    - country: CI
      provider: "Orange Money"
      payment_type: "Pay Merchant"
      ussd: "#144*4*{merchant_code}*{amount}#"
    - country: GH
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*170*2*1*{merchant_id}*{amount}#"
    - country: GH
      provider: "Vodafone Cash"
      payment_type: "Pay Merchant"
      ussd: "*110*3*{till_number}*{amount}#"
    - country: MG
      provider: "Telma MVola"
      payment_type: "Pay Merchant"
      ussd: "*111*2*1*{merchant_code}*{amount}#"
    - country: MW
      provider: "Airtel Money"
      payment_type: "Pay Merchant"
      ussd: "*211*2*{merchant_name}*{amount}#"
    - country: MW
      provider: "TNM Mpamba"
      payment_type: "Pay Bill"
      ussd: "*444*2*{company_code}*{amount}#"
    - country: MZ
      provider: "Vodacom M-Pesa"
      payment_type: "Pay Bill"
      ussd: "*150*3*{entity_code}*{ref_no}*{amount}#"
    - country: SN
      provider: "Orange Money"
      payment_type: "Pay Merchant"
      ussd: "#144*2*1*{merchant_code}*{amount}#"
    - country: TZ
      provider: "Vodacom M-Pesa"
      payment_type: "Lipa kwa M-Pesa"
      ussd: "*150*00*4*{merchant_number}*{amount}#"
    - country: TZ
      provider: "Tigo Pesa"
      payment_type: "Lipa kwa Simu"
      ussd: "*150*01*4*{merchant_number}*{amount}#"
    - country: UG
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*165*3*{merchant_code}*{amount}#"
      notes: "Market excluded from initial rollout"
    - country: UG
      provider: "Airtel Money"
      payment_type: "Pay Merchant"
      ussd: "*185*9*{merchant_id}*{amount}#"
      notes: "Market excluded from initial rollout"
    - country: ZM
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*303*3*{merchant_code}*{amount}#"
    - country: ZW
      provider: "EcoCash"
      payment_type: "Pay Merchant"
      ussd: "*151*2*{merchant_code}*{amount}#"
    - country: AO
      provider: "Unitel"
      payment_type: "Pay Merchant"
      ussd: "*449*3*{merchant_code}*{amount}#"
    - country: BW
      provider: "Mascom MyZaka"
      payment_type: "Pay Merchant"
      ussd: "*167*2*{merchant_code}*{amount}#"
    - country: BW
      provider: "Orange Money"
      payment_type: "Pay Bill"
      ussd: "*145*3*{business_code}*{ref_no}*{amount}#"
    - country: BI
      provider: "EcoCash (Econet Leo)"
      payment_type: "Pay Merchant"
      ussd: "*150*2*{merchant_code}*{amount}#"
    - country: SZ
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*007*2*{merchant_code}*{amount}#"
    - country: ET
      provider: "Safaricom M-Pesa"
      payment_type: "Lipa na M-PESA"
      ussd: "*733*2*{till_number}*{amount}#"
    - country: ET
      provider: "Telebirr"
      payment_type: "Pay Merchant"
      ussd: "*127*4*1*{merchant_id}*{amount}#"
    - country: GA
      provider: "Airtel Money"
      payment_type: "Pay Bill"
      ussd: "*150*4*{biller_code}*{ref_no}*{amount}#"
    - country: GN
      provider: "Orange Money"
      payment_type: "Pay Merchant"
      ussd: "#144*2*{merchant_code}*{amount}#"
    - country: LS
      provider: "Vodacom M-Pesa"
      payment_type: "Pay Merchant"
      ussd: "*111*2*{merchant_code}*{amount}#"
    - country: LR
      provider: "Orange Money"
      payment_type: "Pay Merchant"
      ussd: "*144*2*{merchant_code}*{amount}#"
    - country: ML
      provider: "Orange Money"
      payment_type: "Pay Bill"
      ussd: "#144*4*{biller_code}*{ref_no}*{amount}#"
    - country: TG
      provider: "TMoney"
      payment_type: "Pay Bill"
      ussd: "*145*4*{biller_code}*{ref_no}*{amount}#"
    - country: TD
      provider: "Airtel Money"
      payment_type: "Pay Merchant"
      ussd: "*121*3*{merchant_code}*{amount}#"
    - country: CG
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*105*3*{merchant_code}*{amount}#"
    - country: GM
      provider: "Afrimoney"
      payment_type: "Pay Merchant"
      ussd: "*777*2*{merchant_code}*{amount}#"
    - country: MR
      provider: "Mattel Masrvi"
      payment_type: "Pay Merchant"
      ussd: "*555*2*{merchant_code}*{amount}#"
    - country: MU
      provider: "Orange Money"
      payment_type: "Pay Bill"
      ussd: "#144*4*{biller_code}*{ref_no}*{amount}#"
    - country: MU
      provider: "Emtel Cash"
      payment_type: "Pay Merchant"
      ussd: "*800*2*{merchant_code}*{amount}#"
    - country: NA
      provider: "MTC Money"
      payment_type: "Pay Merchant"
      ussd: "*140*2*{merchant_code}*{amount}#"
    - country: NE
      provider: "Airtel Money"
      payment_type: "Pay Bill"
      ussd: "*436*4*{biller_code}*{ref_no}*{amount}#"
    - country: SL
      provider: "Orange Money"
      payment_type: "Pay Bill"
      ussd: "*144*4*{biller_code}*{ref_no}*{amount}#"
    - country: SS
      provider: "MTN MoMo"
      payment_type: "MoMoPay"
      ussd: "*222*2*{merchant_code}*{amount}#"
    - country: SD
      provider: "Zain Hassa"
      payment_type: "Pay Bill"
      ussd: "*200*3*{biller_code}*{ref_no}*{amount}#"
    - country: SD
      provider: "MTN MoMo"
      payment_type: "Pay Bill"
      ussd: "*6060*3*{biller_code}*{ref_no}*{amount}#"
