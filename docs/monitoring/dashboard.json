{
  "dashboard": {
    "title": "EasyMO WhatsApp Webhook Services",
    "description": "Real-time monitoring for all webhook microservices",
    "refresh": "30s",
    "timezone": "Africa/Kigali",
    "rows": [
      {
        "title": "Service Health",
        "panels": [
          {
            "title": "Service Status",
            "type": "stat",
            "targets": [
              {
                "query": "health_check_status",
                "legend": "{{service}}"
              }
            ]
          },
          {
            "title": "Uptime",
            "type": "stat",
            "targets": [
              {
                "query": "service_uptime_seconds",
                "legend": "{{service}}"
              }
            ]
          }
        ]
      },
      {
        "title": "Request Metrics",
        "panels": [
          {
            "title": "Requests per Second",
            "type": "graph",
            "targets": [
              {
                "query": "rate(http_requests_total[1m])",
                "legend": "{{service}}"
              }
            ]
          },
          {
            "title": "Response Time (P50, P90, P99)",
            "type": "graph",
            "targets": [
              {
                "query": "histogram_quantile(0.50, http_request_duration_ms)",
                "legend": "P50"
              },
              {
                "query": "histogram_quantile(0.99, http_request_duration_ms)",
                "legend": "P99"
              }
            ]
          }
        ]
      },
      {
        "title": "Cache Performance",
        "panels": [
          {
            "title": "Cache Hit Rate",
            "type": "gauge",
            "targets": [
              {
                "query": "cache_hits / (cache_hits + cache_misses)",
                "legend": "Hit Rate"
              }
            ]
          }
        ]
      },
      {
        "title": "Business Metrics",
        "panels": [
          {
            "title": "Messages Processed",
            "type": "stat",
            "targets": [
              {
                "query": "sum(webhook_messages_total)",
                "legend": "Total Messages"
              }
            ]
          }
        ]
      }
    ]
  }
}
