{
  "version": "6.3",
  "screens": [
    {
      "id": "s_trips_list",
      "title": "Open trips",
      "layout": { "type": "single_column" },
      "widgets": [
        {
          "type": "radio_list",
          "id": "w_trips",
          "options_data_binding": "trips"
        },
        {
          "type": "footer_buttons",
          "buttons": [
            {
              "id": "BTN_TRIPS_REFRESH",
              "title": "Refresh",
              "action": { "type": "data_exchange", "id": "a_admin_refresh" }
            }
          ]
        }
      ],
      "events": {
        "on_item_select": {
          "widget_id": "w_trips",
          "action": {
            "type": "navigate",
            "next": "s_trip_detail",
            "params": { "trip_id": "${selected.id}" }
          }
        }
      }
    },
    {
      "id": "s_trip_detail",
      "title": "Trip detail",
      "layout": { "type": "single_column" },
      "widgets": [
        { "type": "text_block", "id": "w_trip", "text": "${params.trip_id}" },
        {
          "type": "footer_buttons",
          "buttons": [
            {
              "id": "BTN_MATCH_NOW",
              "title": "Match now",
              "action": {
                "type": "data_exchange",
                "id": "a_admin_match_now",
                "fields": { "trip_id": "${params.trip_id}" }
              }
            },
            {
              "id": "BTN_STATUS_OPEN",
              "title": "Set open",
              "action": {
                "type": "data_exchange",
                "id": "a_admin_trip_status",
                "fields": {
                  "trip_id": "${params.trip_id}",
                  "new_status": "open"
                }
              }
            },
            {
              "id": "BTN_STATUS_CLOSE",
              "title": "Close",
              "action": {
                "type": "data_exchange",
                "id": "a_admin_trip_status",
                "fields": {
                  "trip_id": "${params.trip_id}",
                  "new_status": "closed"
                }
              }
            },
            {
              "id": "BTN_EXPIRE",
              "title": "Expire",
              "action": {
                "type": "data_exchange",
                "id": "a_admin_trip_expire",
                "fields": { "trip_id": "${params.trip_id}" }
              }
            }
          ]
        }
      ]
    },
    {
      "id": "s_trip_matches",
      "title": "Matches",
      "layout": { "type": "single_column" },
      "widgets": [
        {
          "type": "list",
          "id": "w_matches",
          "options_data_binding": "matches"
        },
        {
          "type": "footer_buttons",
          "buttons": [
            {
              "id": "BTN_MATCH_BACK",
              "title": "Back",
              "action": { "type": "navigate", "next": "s_trip_detail" }
            }
          ]
        }
      ]
    }
  ]
}
